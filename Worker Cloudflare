addEventListener("fetch", event => {
  event.respondWith(handleRequest(event.request));
})

const TELEGRAM_TOKEN = 'MASUKKAN_TOKEN_DISINI';
const CHAT_ID = 'MASUKKAN_CHAT_ID_DISINI';

async function handleRequest(request) {
  if (request.method === 'POST') {
    try {
      const { message } = await request.json();
      const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
      
      const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message
        })
      });

      const data = await response.json();
      return new Response(JSON.stringify(data), { status: 200, headers: { 'Content-Type': 'application/json' } });
    } catch (err) {
      return new Response(err.toString(), { status: 500 });
    }
  }

  return new Response('Send POST request with JSON { "message": "your message" }', { status: 200 });
}
